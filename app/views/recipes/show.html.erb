<%= stylesheet_link_tag "application", "recipe" %>
<p style="color: green"><%= notice %></p>

<div class="container pad max_width">
      <h2 class="recipe_header"><%= @recipes.name %></h2>
    <div class="holder">
      <p>Preparation time: <%= @recipes.preparation_time %> </p>
      <p>Cooking time: <%=@recipes.cooking_time %></p>
    </div>
    <p class="recipe_steps"><%= @recipes.description%></p>
    <p class="public fit">
      Public:
      <%= @recipes.public %>
    </p>

    <%if can? :manage, @recipes %>
      <div class="btn_grp flex">
        <%= link_to 'Generate shopping list', general_shopping_lists_path, class:"btn btn-outline-success" %>
        <%= link_to 'Add ingredient',  new_recipe_recipe_food_path(@recipes.id), class:"btn btn-outline-success" %>
      </div>
      <hr>
      <% end %>

    <table>
      <tr>
        <th>Food</th>
        <th>Quantity</th>
        <th>Value</th>
        <th>Actions</th>
      </tr>
      <% @recipes.recipe_foods.each do |r_food| %>
        <tr>
          <% if can? :destroy, @recipes %>
          <td> <%= r_food.food.name %> </td>
          <td> <%= r_food.quantity %></td>
          <td> $<%= r_food.food.price%> </td>
          <td class="action">
          <%= button_to ' Remove', recipe_recipe_food_path(@recipes.id, r_food.id), method: :delete, class:"btn btn-outline-danger" %>
          </td>
          <% end %>
        </tr>
        <% end %>
    </table>
  </div>
</div>